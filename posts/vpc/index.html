<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.1"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Virtual Private Cloud (VPC) ★★★" /><meta name="author" content="Zhenye Na" /><meta property="og:locale" content="en_US" /><meta name="description" content="Virtual Private Cloud (VPC) ★★★" /><meta property="og:description" content="Virtual Private Cloud (VPC) ★★★" /><link rel="canonical" href="https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/" /><meta property="og:url" content="https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/" /><meta property="og:site_name" content="AWS Cert. Cheatsheet" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-02T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Virtual Private Cloud (VPC) ★★★" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Zhenye Na"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/"},"description":"Virtual Private Cloud (VPC) ★★★","url":"https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/","@type":"BlogPosting","headline":"Virtual Private Cloud (VPC) ★★★","dateModified":"2022-05-22T22:15:06-07:00","datePublished":"2020-09-02T00:00:00-07:00","@context":"https://schema.org"}</script><title>Virtual Private Cloud (VPC) ★★★ | AWS Cert. Cheatsheet</title><link rel="shortcut icon" href="/aws-certs-cheatsheet/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/aws-certs-cheatsheet/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/aws-certs-cheatsheet/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/aws-certs-cheatsheet/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/aws-certs-cheatsheet/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/aws-certs-cheatsheet/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/aws-certs-cheatsheet/assets/css/post.css" as="style"><link rel="stylesheet" href="/aws-certs-cheatsheet/assets/css/post.css"><link rel="preload" as="style" href="/aws-certs-cheatsheet/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/aws-certs-cheatsheet/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/aws-certs-cheatsheet/assets/js/post.min.js"></script> <script defer src="/aws-certs-cheatsheet/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script> <script data-ad-client="ca-pub-6161588707523400" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/aws-certs-cheatsheet/" alt="avatar" class="mx-auto"> <img src="/aws-certs-cheatsheet/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/aws-certs-cheatsheet/">AWS Cert. Cheatsheet</a></div><div class="site-subtitle font-italic">Cheatsheets for AWS Certified Exams.</div></div><ul class="w-100"><li class="nav-item"> <a href="/aws-certs-cheatsheet/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zhenye-na" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['nazhenye','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/aws-certs-cheatsheet/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/aws-certs-cheatsheet/"> Posts </a> </span> <span>Virtual Private Cloud (VPC) ★★★</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Virtual Private Cloud (VPC) ★★★</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Sep 2, 2020, 12:00 AM -0700" > Sep 2, 2020 <i class="unloaded">2020-09-02T00:00:00-07:00</i> </span> by <span class="author"> Zhenye Na </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, May 22, 2022, 10:15 PM -0700" > May 22 <i class="unloaded">2022-05-22T22:15:06-07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3430 words">19 min</span></div></div><div class="post-content"><h1 id="virtual-private-cloud-vpc-">Virtual Private Cloud (VPC) ★★★</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/vpc-diagram.png" alt="Virtual Private Cloud" /></p><blockquote><p><a href="https://docs.aws.amazon.com/vpc/index.html">Amazon Virtual Private Cloud Documentation</a></p></blockquote><p>VPC lets us provision a <strong>logically isolated</strong> section of our infrastructure where we can launch AWS resources in a virtual network that we define. We have complete control over:</p><ul><li>our virtual networking environment, including a selection of our IP address range, creation of subnets<li>configuration of route tables<li>network gateways</ul><p>Additionally, we can create a hardware VPN connection between our corporate datacenter and our VPC and leverage the AWS cloud as an extension of our corporative datacenter by default</p><h2 id="cidr-private-vs-public-ipv4">CIDR, Private vs Public IPv4</h2><h3 id="cidr---ipv4-classless-inter-domain-routing">CIDR - IPv4 (Classless Inter-Domain Routing)</h3><p>CIDR is used for Security Groups rules or AWS networking in general. They help to define an IP address range</p><ul><li><code class="language-plaintext highlighter-rouge">192.168.100.0/32</code> -&gt; one IP<li><code class="language-plaintext highlighter-rouge">0.0.0.0/0</code> -&gt; all IPs<li>we can also do something like <code class="language-plaintext highlighter-rouge">192.168.0.0/26</code>, which means there are 64 IPs (<code class="language-plaintext highlighter-rouge">192.168.0.0 - 192.168.0.63</code>)</ul><p>A CIDR has two components:</p><ol><li>the base IP (<code class="language-plaintext highlighter-rouge">xx.xx.x.x</code>): it represents an IP contained in the range<li>the subnet mask (<code class="language-plaintext highlighter-rouge">/32</code>): defines how many bits can change in the IP</ol><div class="alert alert-info" role="alert"><p>The subnet ask can take two forms</p><ol><li><code>255.255.255.0</code><li><code>/24</code></ol></div><p>example:</p><p><code class="language-plaintext highlighter-rouge">/24</code> allows <code class="language-plaintext highlighter-rouge">2 ^ (32 - 24) = 2 ^ 8</code> IPs from the base IP</p><div class="alert alert-primary" role="alert"><p>Quick memo:</p><ul><li><code>/32</code>: no IP can change<li><code>/24</code>: last IP number can change<li><code>/16</code>: last two IP number can change<li><code>/8</code>: last three IP number can change<li><code>/0</code>: all IPs</ul></div><h3 id="private-vs-public-ipv4">Private vs Public IPv4</h3><ul><li>The <strong>Internet Assigned Numbers Authority</strong> (IANA) established certain blocks of IPv4 addresses for the use of private (LAN) abd public (Internet) addresses<li>Private IP can only allow certain values<ul><li>10.0.0.0 - 10.255.255.255 (10.0.0.0/8) &lt;- in big networks<li>172.16.0.0 - 172.31.255.255 (172.16.0.0/16) &lt;- <em>AWS</em><li>192.168.0.0 - 192.168.255.255 (192.168.0.0/16) &lt;- home networks</ul></ul><p>All the rest of the IP on the internet are public IP</p><h2 id="default-vpc-overview">Default VPC Overview</h2><ul><li>All new accounts have a default VPC<li>New instances are launched into default VPC if no subnet is specified<li>Default VPC has internet connectivity and all instances have public IP (so that we can use the instance to do like <code class="language-plaintext highlighter-rouge">yum update</code> ..)<li>We also get a public and private DNS name</ul><p>For Default VPC</p><ul><li>user-friendly, allowing you to immediately deploy instances.<li>All Subnets in default VPC have a route out to the internet.<li>Each EC2 instance has both a public and private IP address.</ul><h2 id="vpc-overview">VPC Overview</h2><h3 id="ipv4-in-vpc">IPv4 in VPC</h3><ul><li>You can have multiple VPCs in a region (max is 5 per region, but it is a soft limit)<li>Max CIDR per VPC is 5. For each CIDR<ul><li>min size is <code class="language-plaintext highlighter-rouge">/28</code>: 16 IP addresses<li>max size is <code class="language-plaintext highlighter-rouge">/16</code>: 65536 IP addresses</ul><li><em>Your VPC CIDR should not overlap with your other networks</em></ul><h2 id="subnets-overview">Subnets Overview</h2><p>AWS reserves <strong>5</strong> IPs (first 4 and last 1 in your IP ranges) in <em>each</em> subnet. These 5 IPs are not available for usage and cannot be assigned to an instance.</p><p>For example, if your CIDR block is <code class="language-plaintext highlighter-rouge">10.0.0.0/24</code>, then the reserved IPs are:</p><ul><li><code class="language-plaintext highlighter-rouge">10.0.0.0</code>: Network address<li><code class="language-plaintext highlighter-rouge">10.0.0.1</code>: Reserved by AWS for the VPC router<li><code class="language-plaintext highlighter-rouge">10.0.0.2</code>: Reserved by AWS for mapping to AWS-provided DNS<li><code class="language-plaintext highlighter-rouge">10.0.0.3</code>: Reserved by AWS for future usage<li><code class="language-plaintext highlighter-rouge">10.0.0.255</code>: Network broadcast address. AWS does not support broadcast in a VPC</ul><div class="alert alert-success" role="alert"><p>During an exam, if you need xx IPs for EC2 instances, when doing your CIDR block, remember to minus 5 (round up)</p><p>for example, if you need 29 IPs, choose <code>/26</code> (64 IPs) not <code>/27</code> (32 IPs)</p></div><h2 id="internet-gateways">Internet Gateways</h2><ul><li>Internet Gateways helps our VPC instances connect with the internet<li>It scales horizontally and is HA and redundant<li>Must be created separately from VPC<li>One VPC can only be attached to one Internet Gateways and vice versa (like “1-to-1 relationship”)<li>Internet Gateway is also a NAT for the instances that have a public IPv4</ul><p><strong>IGW on their own do not allow internet access, so Route tables must also be edited</strong></p><h2 id="nat-instances-and-nat-gateways">NAT Instances and NAT Gateways</h2><h3 id="nat-instance-outdated-but-in-the-exam">NAT Instance (Outdated but in the exam)</h3><p>NAT stands for <strong>Network Address Translation</strong>, it allows <em>instances in private subnets</em> to connect to the internet</p><ul><li>When you try to create a NAT Instance, <strong>disable the source/destination check</strong> on the instance first<li>NAT instances must be in a <strong>public subnet</strong>.<li>Route table must be configured to route traffic from the private subnet to the NAT instance, for this to work.<li>Must have Elastic IP attached to it<li>The amount of traffic that NAT instances can support depends on the <strong>instance size</strong>. If you are bottlenecking, increase the instance size.<li>You can create <strong>high availability</strong> using Autoscaling Groups, multiple subnets in different AZs, and a script to automate failover.<li>It is behind the Security Group</ul><p>Must manage security groups and rules</p><ul><li>Inbound<ul><li>Allow HTTP/HTTPS traffic from Private Subnets<li>Allow SSH from your home network (access provided through Internet Gateway)</ul><li>Outbound<ul><li>Allow HTTP/HTTPS traffic to the internet</ul></ul><h3 id="nat-gateway">NAT Gateway</h3><ul><li>AWS managed NAT, higher bandwidth, better availability, no administration<li>NAT Gateways are redundant inside the Availability Zone. <strong>One NAT gateway per availability zone</strong>.<li><strong>Not associated with security groups</strong>.<li>NAT Gateway is created in a specific AZ, using an Elastic IP<li>No needed to disable the source/destination check.<li>To have high availability, we should create a NAT gateway in each availability zone.<li>Starts at 5 Gbps and scales currently up to 45 Gbps. <strong>Scaled Automatically</strong><li>Requires an Internet Gateway<ul><li>Private Subnet will talk to NAT Gateway, which will talk to IGW so that our private instance can talk to the internet</ul></ul><h4 id="nat-gateway-with-high-availability">NAT Gateway with High Availability</h4><ul><li>NAT Gateway is resilient within a single-AZ<li>However, you must create multiple NAT Gateway in multiple AZ for fault-tolerance<li>There is no cross AZ failover needed because if an AZ goes down it does not need NAT</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/nat-gateway-with-ha.png" alt="" /></p><h3 id="comparison-of-nat-instance-and-nat-gateway">Comparison of NAT Instance and NAT Gateway</h3><p>https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-comparison.html</p><h2 id="dns-resolution-options">DNS Resolution Options</h2><ul><li><code class="language-plaintext highlighter-rouge">enableDnsSupport</code> DNS Resolution setting<ul><li>Default <code class="language-plaintext highlighter-rouge">True</code><li>Helps decide if DNS resolution is supported for the VPC<li>If <code class="language-plaintext highlighter-rouge">True</code>, queries the AWS DNS server at <code class="language-plaintext highlighter-rouge">169.254.169.253</code></ul><li><code class="language-plaintext highlighter-rouge">enableDnsHostname</code> DNS Hostname setting<ul><li><code class="language-plaintext highlighter-rouge">False</code> by default for custom VPC, <code class="language-plaintext highlighter-rouge">True</code> for Default VPC<li>Won’t do anything unless <code class="language-plaintext highlighter-rouge">enableDnsSupport = True</code><li>If <code class="language-plaintext highlighter-rouge">True</code>, Assign public hostname to EC2 instance if it has a public</ul></ul><p>If you use custom DNS domain names in a private zone in Route 53, you must set both these attributes to <code class="language-plaintext highlighter-rouge">true</code></p><h2 id="nacl--security-groups">NACL &amp; Security Groups</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/nacl.png" alt="" /></p><p>Inbound / Outbound for</p><ul><li>Security Group is <strong>stateful</strong>, which means, even if the outbound rule denies everything if an inbound request passes, then this request can also pass the outbound (rule checking)<li>NACL is <strong>stateless</strong>, which means, inbound and outbound are evaluated separately</ul><h3 id="network-acls">Network ACLs</h3><ul><li>NACL are like a firewall that controls traffic from and to subnet<li>Default NACL allows everything outbound and everything inbound<li><strong>One NACL per Subnet, new subnets are assigned the Default NACL</strong><li>Define NACL rules<ul><li>Rules have a number (1 - 32766), <strong>the lower number, the higher precedence</strong><ul><li>for example, if you define <code class="language-plaintext highlighter-rouge">#100 ALLOW &lt;IP&gt;</code> and <code class="language-plaintext highlighter-rouge">#200 DENY &lt;IP&gt;</code>, IP will be allowed, since <code class="language-plaintext highlighter-rouge">100</code> has higher precedence (<code class="language-plaintext highlighter-rouge">#100 &lt; #200</code>)<li><code class="language-plaintext highlighter-rouge">100</code>, <code class="language-plaintext highlighter-rouge">200</code> is rule number, or you can say it as <code class="language-plaintext highlighter-rouge">"weight"</code>, whatever works for you to memorize it</ul><li>Last rule is an asterisk (<code class="language-plaintext highlighter-rouge">*</code>) and <strong>denies</strong> a request in case of no rule match<li><em>AWS recommends adding rules by an increment of 100</em></ul><li>Newly created NACL will deny everything<li>NACL is a great way of blocking a specific IP at the subnet level</ul><p>This works like a security group for all (or any) subnets in your VPC. We can add allow/deny rules. The default VPC comes with a default network ACL, and by default, it allows all outbound and inbound traffic.</p><p>When creating a custom network ACLs, by default denies all inbound and outbound traffic until you add rules. Each subnet in your VPC must be associated with a network ACL. If you don’t explicitly associate a subnet with a network ACL, the subnet is automatically associated with the default network ACL.</p><p><strong>To block IP Addresses, we need to use ACLs, not security groups.</strong></p><ul><li>A network ACL can be associated with <code class="language-plaintext highlighter-rouge">N</code> subnets, but <code class="language-plaintext highlighter-rouge">1</code> subnet can only be associated with <code class="language-plaintext highlighter-rouge">1</code> NACL.<li>Network ACLs contain a numbered list of rules that are evaluated in order, starting with the lowest numbered rule.<li>Network ACLs have separate inbound and outbound rules, and each rule can either allow or deny traffic.<li>Network ACLs are stateless; responses to allowed inbound traffic are subject to the rules for outbound traffic and vice versa.</ul><h4 id="ephemeral-ports">Ephemeral Ports</h4><p>In practice, to cover the different types of clients that might initiate traffic to public-facing instances in your VPC, you can open ephemeral ports <code class="language-plaintext highlighter-rouge">1024-65535</code></p><h3 id="vpc-how-to">VPC How-To</h3><ol><li>Go To VPC service &gt; Your VPCs &gt; Create VPC<li>Fill IPv4 CIDR block and tenancy and click on create.</ol><p>No subnets and internet gateways have been created at this moment. Route table, network ACLs and security groups have been created. Security groups can’t span VPCs.</p><ol><li>Go to Subnets -&gt; Create a subnet<li>Name it, select our VPC, the availability zone, and the IPv4 CIDR block. Finally, click on create.</ol><p>By default, no subnet has public IP. To do this, select the subnet and click on actions and make it auto-apply public IP. <em>Amazon always reserve 5 IP addresses with your subnets.</em></p><ol><li>Go to Internet Gateways -&gt; Create internet gateway<li>Name it and click on create.<li>Select it and with actions, attach the internet gateway to the VPC. (Only ONLY VPC can be attached to ONE internet gateway)</ol><p>At the moment, all our VPC are public because our routes allow it. Let’s fix this:</p><ol><li>Go to Route Tables -&gt; select our route table and select “Routes”<li>Edit routes<li>Fill destination (any IP) with a target internet gateway<li>Go to Subnet Associations<li>Edit subnet associations to select the subnet that needs to be public.</ol><p>Now, we can’t ssh-access to our private EC2 instance from our public subnet.</p><ol><li>Go to EC2 &gt; Security Groups -&gt; Create Security Group<li>Select our VPC, type “All ICMP” (protocol ICMP), and the source the public subnet.<li>Select our VPC, type “SSH” and the source the private subnet.<li>Change the security group of our EC2 instance.</ol><h2 id="vpc-peering">VPC Peering</h2><ul><li>Allows you to connect one VPC with another via a <strong>direct network route</strong> using private IP addresses<li>Instances behave as if they were on the same private network<li>Must not have overlapping CIDR<li>We can peer VPCs with other AWS accounts as well as with other VPCs in the same account<li>You must update route tables in <strong>each VPC’s subnets</strong> to ensure instances can communicate</ul><p>Peering is a star configuration: 1 central VPC peers with 4 others</p><div class="alert alert-danger" role="alert"><p>NO transitive peering</p><blockquote><p>reference: <a href="https://docs.aws.amazon.com/vpc/latest/peering/invalid-peering-configurations.html#transitive-peering">https://docs.aws.amazon.com/vpc/latest/peering/invalid-peering-configurations.html#transitive-peering</a></p><p>You have a VPC peering connection between VPC A and VPC B (<code>PCX-aaaabbbb</code>) and between VPC A and VPC C (<code>pcx-aaaacccc</code>). There is no VPC peering connection between VPC B and VPC C. You cannot route packets directly from VPC B to VPC C through VPC A.</p><p>To route packets directly between VPC B and VPC C, you can create a separate VPC peering connection between them (provided that they do not have overlapping CIDR blocks). For more information, see Three VPCs peered together.</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://docs.aws.amazon.com/vpc/latest/peering/images/transitive-peering-diagram.png" alt="transitive peering" /></p></div><ul><li>VPC Peering can work <strong>inter-region, cross-account</strong><li>You can reference a security group of a peered VPC (works across account)</ul><h2 id="vpc-endpoints">VPC Endpoints</h2><ul><li>Endpoints allow you to connect to AWS Services using a private network instead of the public network<li>Scales horizontally and are redundant<li>Endpoints remove the need for IGW, NAT Gateway, etc.. to access AWS Services<li><strong>Interface</strong>: provisions an ENI (private IP address) as an entry point (must attach Security Group) for most AWS Services<li><strong>Gateway</strong>: provisions a target and must be used in a routing table - S3 and DynamoDB<li>In case of any issues:<ul><li>Check DNS Setting Resolution in your VPC<li>Check Route Tables</ul></ul><blockquote><p><code class="language-plaintext highlighter-rouge">Enable Private DNS Name</code>: To use private DNS names, ensure that the attributes <code class="language-plaintext highlighter-rouge">'Enable DNS hostnames'</code> and <code class="language-plaintext highlighter-rouge">'Enable DNS support'</code> are set to <code class="language-plaintext highlighter-rouge">'true'</code> for your VPC</p></blockquote><p>An interface endpoint is an elastic network interface with a private IP address that serves as an entry point for traffic destined to a supported service.</p><p>A VPC endpoint enables you to privately connect your VPC to supported AWS services and VPC endpoint services powered by PrivateLink without requiring an internet gateway, NAT device, VPN connection, or AWS Direct Connection. Instances in your VPC do not require public IP addresses to communicate with resources in the service. Traffic between your VPC and the other service does not have the Amazon network.</p><p>Endpoints are virtual devices. They are horizontally scaled, redundant, and highly available VPC components that allow communication between instances in your VPC and services without imposing availability risks or bandwidth constraints on your network traffic.</p><p>There are two types: interface and gateway. Currently, <strong>gateway endpoints support S3 and DynamoDB</strong></p><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6161588707523400" data-ad-slot="2418749784"></ins></p><script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><h2 id="vpc-flow-logs">VPC Flow Logs</h2><p>Flow Logs is a feature that enables you to <strong>capture information about the IP traffic going to and from network interfaces in your VPC</strong>. Flow log data is <strong>stored using Amazon S3 / CloudWatch Logs</strong>. After you’ve created a flow log, you can view and retrieve its data in Amazon CloudWatch Logs.</p><ul><li>There are three levels of abstraction:<ul><li>VPC Flow Logs<li>Subnet Flow Logs<li>Elastic Network Interface Flow Logs</ul><li>Helps to monitor &amp; troubleshoot connectivity issues<li>You cannot enable flow logs for VPCs that are peered with your VPC unless the peer VPC is in your account.<li>You cannot tag a flow log.<li>After you’ve created a flow log, you cannot change its configuration; for example, you can’t associate a different IAM role with the flow log.<li><strong>Not ALL IP Traffic is monitored</strong><ul><li>internal traffic done by AWS mostly<ul><li>traffic generated by instances when they contact the AWS DNS Server<li>traffic generated by a windows instance<li>DHCP traffic / reserved IP Address (five addresses I believe ?)</ul></ul></ul><p>To query VPC Flow Logs, we can use Athena on S3 or CloudWatch Logs Insights</p><h2 id="bastion-hosts">Bastion Hosts</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/NM_diagram_061316_a1.png" alt="" /></p><ul><li>We use a Bastion Host to SSH into our private instances<li>The bastion is in the public subnet which is then connected to all other private subnets<li>Bastion Host security group must be tightened<li>A Bastion is used to <strong>securely</strong> administrate EC2 instances (using SSH or RDP).<li>We <strong>cannot</strong> use a NAT Gateway as a Bastion host.</ul><div class="alert alert-success" role="alert"><p>Exam Tip: Make sure the bastion host only has port 22 traffic from the IP you need, not from the security groups of your other instances</p></div><h2 id="site-to-site-vpn">Site-to-Site VPN</h2><h3 id="virtual-private-gateway">Virtual Private Gateway</h3><ul><li>VPN concentrate on the AWS side of the VPN connection<li>VGW is created and attached to the VPC from which you want to create the Site-to-Site VPN connection<li>Possibility to customize the ASN</ul><h3 id="customer-gateway">Customer Gateway</h3><ul><li>Software application or physical device on the customer side of the VPN connection<li>IP Address<ul><li>Use static, internet-routable IP address for your customer gateway device<li>if a CGW behind NAT (NAT-T), use the public IP address of the NAT</ul></ul><h2 id="direct-connect">Direct Connect</h2><p>AWS Direct Connect is a cloud service solution that makes it easy to establish a dedicated network connection from your premises to AWS. Therefore, we can establish private connectivity between AWS and your datacenter, office, or colocation environment, which in many cases can reduce your network costs, increase bandwidth throughput and provide a more consistent network experience than Internet-based connections.</p><ul><li>Provides a dedicated <strong>private</strong> connection from a remote network to your VPC<li>Dedicated connection must be set up between your DC and AWS Direct Connect locations<li>You need to set up a <strong>Virtual Private Gateway</strong> on your VPC<li>Access public resources (S3) and private (EC2) on the same connection<li>Use cases:<ul><li>Increase bandwidth throughput - working with large datasets, lower cost<li>More consistent network experience - applications using real-time data feeds<li>Hybrid Environments (on-prem + cloud)</ul><li>Supports both IPv4 and IPv6</ul><p>If you want to set up a Direct Connect to one or more VPC in many different regions (same account), you must use a Direct Connect Gateway</p><h3 id="direct-connect---connection-types">Direct Connect - Connection Types</h3><h4 id="dedicated-connections">Dedicated Connections</h4><ul><li>Physical Ethernet port dedicated to a customer<li>Request made to AWS first, then completed by Direct Connect Partners</ul><h4 id="hosted-connections">Hosted Connections</h4><ul><li>Connection requests are made via AWS Direct Connect Partners<li>Capacity can be added or removed on demand<li>1,2,5,10 Gbps available at select AWS Direct Connection Partners</ul><p>Lead times are often longer than 1 month to establish a new connection</p><h3 id="direct-connect---encryption">Direct Connect - Encryption</h3><ul><li>Data in transit is <strong>not encrypted</strong> but is private<li>AWS Direct Connect + VPN provides an IPsec-encrypted private connection<li>Good for an extra level of security, but slightly more complex to put in place</ul><h2 id="egress-only-internet-gateway">Egress Only Internet Gateway</h2><blockquote><p>Egress means Outgoing</p></blockquote><ul><li>Egress Only Internet Gateway is for IPv6 only<li>Similar function as a NAT, but a NAT is for IPv4<ul><li>IPv6 is all public address</ul><li>Egress Only Internet Gateway gives our IPv6 instances access to the internet, but they won’t be directly reachable by the internet<li>After creating an Egress only Internet Gateway, edit the route tables</ul><h2 id="aws-privatelink-vpc-endpoints-services">AWS PrivateLink (VPC Endpoints Services)</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/aws-privatelink.png" alt="" /></p><ul><li>Most secure &amp; scalable way o expose a service to 1000s of VPC (own or other accounts)<li>Does not require VPC Peering, Internet Gateway, NAT, Route Tables<li>Requires a network load balancer (Service VPC) and ENI (Customer VPC)</ul><h2 id="aws-classiclink-deprecated">AWS ClassicLink (Deprecated)</h2><blockquote><p>EC2-Classic or AWS ClassicLink</p></blockquote><ul><li>EC2-Classic: instances run in a single network shared with other customers<li>Amazon VPC: your instances run logically isolated to your AWS account<li>Classic Link: allows you to link EC2-Classic instances to a VPC in your account<ul><li>Must associate a security group<li>Enables communication using private IPv4 addresses<li>Removes the need to make use of public IPv4 addresses or Elastic IP addresses</ul></ul><p><strong>Likely to be distractors at the exam</strong></p><h2 id="vpn-cloudhub">VPN CloudHub</h2><ul><li>Provide secure communication between sites, if you have multiple VPN connections<li>Low-cost hub-and-spoke model for primary or secondary network connectivity between locations<li>it’s a VPN connection so it goes over the public internet</ul><h2 id="transit-gateway">Transit Gateway</h2><p>Connects your VPCs and on-premises networks through a central hub. This simplifies your network and puts an end to complex peering relationships. It acts as a cloud router – each new connection is only made once.</p><ul><li>For having <strong>transitive peering between thousands of VPC and on-premises</strong>, hub-and-spoke (star) connection<li>Regional resource, can work cross-region<li>Share cross-account using Resource Access Manager (RAM)<li>You can peer Transit Gateways across regions<li>Route Tables: limit which VPC can talk with other VPC<li>Works with Direct Connect Gateway, VPN connections<li><strong>Supports IP Multicast</strong> (not supported by any other AWS service)</ul><p>Another use case for Transit Gateway is to increase the bandwith of your site-to-site VPN connection using <strong>ECMP</strong>.</p><ul><li>ECMP = Equal-cost multi-path routing<li>Routing strategy to allow to forward a packet over multiple best path<li>Use case: create multiple Site to-Site VPN connections to increase the bandwidth of your connection to AWS</ul><p>You can share your direct connect connection between multiple accounts using Transit Gateway.</p><h2 id="vpc-section-summary">VPC Section Summary</h2><div class="table-wrapper"><table><thead><tr><th>Service<th>Description<tbody><tr><td>CIDR<td>IP Range<tr><td>VPC<td>Virtual Private Cloud =&gt; we define a list of IPv4 &amp; IPv6 CIDR<tr><td>Subnets<td>Tied to an AZ, we define a CIDR<tr><td>Route Tables<td>Must be edited to add routes from subnets to the IGW, VPC Peering Connections, VPC Endpoints, etc..<tr><td>NAT Instances<td>Gives internet access to instances in private subnets. Old, must be set up in a public subnet, disable <code class="language-plaintext highlighter-rouge">Source / Destination check</code> flag<tr><td>NAT Gateway<td>Managed by AWS, provides scalable internet access to private instances, IPv4 only<tr><td>Private DNS + Route 53<td>Enable DNS Resolution + DNS Hostnames (VPC)<tr><td>NACL<td>Stateless, subnet rules for inbound and outbound, don’t forget ephemeral ports<tr><td>Security Groups<td>Stateful, operate at the EC2 instance level<tr><td>VPC Peering<td>Connect two VPC with non-overlapping CIDR, non-transitive<tr><td>VPC Endpoints<td>Provide private access to AWS Services (S3, DynamoDB, CloudFormation, SSM) within VPC<tr><td>VPC Flow Logs<td>Can be set up at the VPC / Subnet / ENI Level, for <code class="language-plaintext highlighter-rouge">ACCEPT</code> and <code class="language-plaintext highlighter-rouge">REJECT</code> traffic, helps to identify attacks, analyze using Athena or CloudWatch Log Insights<tr><td>Bastion Host<td>Public instance to SSH into, that has SSH connectivity to instances in subnets<tr><td>Site to Site VPN<td>Setup a Customer Gateway on DC, a Virtual Private Gateway on VPC, and site-to-site VPN over public internet<tr><td>Direct Connect<td>Setup a Virtual Private Gateway on VPC, and establish a direct private connection to an AWS Direct Connect Location<tr><td>Direct Connect Gateway<td>Setup a Direct Connect to many VPCs in different regions<tr><td>Internet Gateway Egress<td>Like a NAT Gateway, but for IPv6<tr><td>PrivateLink / VPC Endpoint Services<td>Connect services privately from your service VPC to customers VPC; Does not need VPC peering, public internet, NAT gateway, route tables; Must be used with Network Load Balancer &amp; ENI<tr><td>ClassicLink<td>Connect EC2-Classic instances privately to your VPC<tr><td>VPC CloudHub<td>Hub-and-spoke VPN model to connect your sites<tr><td>Transit gateway<td>Peering between thousands of VPC and on-premises, hub-and-spoke (star) connection</table></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/aws-certs-cheatsheet/categories/aws-saa/'>AWS-SAA</a>, <a href='/aws-certs-cheatsheet/categories/vpc/'>VPC</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/aws-certs-cheatsheet/tags/vpc/" class="post-tag no-text-decoration" >VPC</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Virtual Private Cloud (VPC) ★★★ - AWS Cert. Cheatsheet&url=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Virtual Private Cloud (VPC) ★★★ - AWS Cert. Cheatsheet&u=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Virtual Private Cloud (VPC) ★★★ - AWS Cert. Cheatsheet&url=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/aws-certs-cheatsheet/posts/vpc/">Virtual Private Cloud (VPC) ★★★</a><li><a href="/aws-certs-cheatsheet/posts/ha-elb-asg/">High Availability and Scalability - ELB & ASG</a><li><a href="/aws-certs-cheatsheet/posts/aws-applications/">AWS Applications</a><li><a href="/aws-certs-cheatsheet/posts/serverless/">Serverless</a><li><a href="/aws-certs-cheatsheet/posts/s3/">Simple Storage Service (S3)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/aws-certs-cheatsheet/tags/asg/">ASG</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/audit/">Audit</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/aws-applications/">AWS Applications</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/cli/">CLI</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/database/">Database</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/discussions/">Discussions</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/dr/">DR</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/ec2/">EC2</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/elb/">ELB</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/encryption/">Encryption</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/aws-certs-cheatsheet/posts/ha-elb-asg/"><div class="card-body"> <span class="timeago small" > Sep 24, 2020 <i class="unloaded">2020-09-24T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>High Availability and Scalability - ELB & ASG</h3><div class="text-muted small"><p> Scalability When it comes to scalability, it divides into two parts: Horizontal Scalability -&gt; elasticity, we also call this scale up and scale down Vertical Scalability -&gt; we also cal...</p></div></div></a></div><div class="card"> <a href="/aws-certs-cheatsheet/posts/aws-applications/"><div class="card-body"> <span class="timeago small" > Oct 4, 2020 <i class="unloaded">2020-10-04T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS Applications</h3><div class="text-muted small"><p> 2 types/patterns of application communication synchronous communications asynchronous / event-based (job queue) Synchronous between applications could be problematic if there are sudden spi...</p></div></div></a></div><div class="card"> <a href="/aws-certs-cheatsheet/posts/cli-and-sdk/"><div class="card-body"> <span class="timeago small" > Oct 5, 2020 <i class="unloaded">2020-10-05T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS CLI, SDK IAM Roles & Policies</h3><div class="text-muted small"><p> AWS CLI EC2 Instance Metadata It allows AWS EC2 instances to “learn about themselves” without using an IAM Role for that purpose 1 curl http://169.254.169.254/latest/meta-data/ you can retriev...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/aws-certs-cheatsheet/posts/route53/" class="btn btn-outline-primary"><p>Route53 - DNS Server</p></a> <a href="/aws-certs-cheatsheet/posts/ha-elb-asg/" class="btn btn-outline-primary"><p>High Availability and Scalability - ELB & ASG</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/aws-certs-cheatsheet/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//zhenye.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://zhenye-na.github.io//aws-certs-cheatsheet/posts/vpc/'; this.page.identifier = '/posts/vpc/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/Zhenye-Na/aws-certs-cheatsheet">Zhenye Na</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/aws-certs-cheatsheet/tags/asg/">ASG</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/audit/">Audit</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/aws-applications/">AWS Applications</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/cli/">CLI</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/database/">Database</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/discussions/">Discussions</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/dr/">DR</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/ec2/">EC2</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/elb/">ELB</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/encryption/">Encryption</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/aws-certs-cheatsheet/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zhenye-na.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
