<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.1"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Elastic Compute Cloud (EC2)" /><meta name="author" content="Zhenye Na" /><meta property="og:locale" content="en_US" /><meta name="description" content="Amazon Elastic Compute Cloud is a web service that provides resizable compute capacity in the cloud." /><meta property="og:description" content="Amazon Elastic Compute Cloud is a web service that provides resizable compute capacity in the cloud." /><link rel="canonical" href="https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/" /><meta property="og:url" content="https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/" /><meta property="og:site_name" content="AWS Cert. Cheatsheet" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-06-30T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Elastic Compute Cloud (EC2)" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Zhenye Na"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/"},"description":"Amazon Elastic Compute Cloud is a web service that provides resizable compute capacity in the cloud.","url":"https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/","@type":"BlogPosting","headline":"Elastic Compute Cloud (EC2)","dateModified":"2021-01-10T22:14:09-08:00","datePublished":"2020-06-30T00:00:00-07:00","@context":"https://schema.org"}</script><title>Elastic Compute Cloud (EC2) | AWS Cert. Cheatsheet</title><link rel="shortcut icon" href="/aws-certs-cheatsheet/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/aws-certs-cheatsheet/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/aws-certs-cheatsheet/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/aws-certs-cheatsheet/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/aws-certs-cheatsheet/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/aws-certs-cheatsheet/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/aws-certs-cheatsheet/assets/css/post.css" as="style"><link rel="stylesheet" href="/aws-certs-cheatsheet/assets/css/post.css"><link rel="preload" as="style" href="/aws-certs-cheatsheet/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/aws-certs-cheatsheet/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/aws-certs-cheatsheet/assets/js/post.min.js"></script> <script defer src="/aws-certs-cheatsheet/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script> <script data-ad-client="ca-pub-6161588707523400" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/aws-certs-cheatsheet/" alt="avatar" class="mx-auto"> <img src="/aws-certs-cheatsheet/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/aws-certs-cheatsheet/">AWS Cert. Cheatsheet</a></div><div class="site-subtitle font-italic">Cheatsheets for AWS Certified Exams.</div></div><ul class="w-100"><li class="nav-item"> <a href="/aws-certs-cheatsheet/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zhenye-na" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['nazhenye','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/aws-certs-cheatsheet/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/aws-certs-cheatsheet/"> Posts </a> </span> <span>Elastic Compute Cloud (EC2)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Elastic Compute Cloud (EC2)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Jun 30, 2020, 12:00 AM -0700" > Jun 30, 2020 <i class="unloaded">2020-06-30T00:00:00-07:00</i> </span> by <span class="author"> Zhenye Na </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 10, 2021, 10:14 PM -0800" > Jan 10, 2021 <i class="unloaded">2021-01-10T22:14:09-08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2209 words">12 min</span></div></div><div class="post-content"><p>Amazon Elastic Compute Cloud is a web service that provides resizable compute capacity in the cloud.</p><h3 id="ec2-pricing-model--type">EC2 Pricing Model / Type</h3><ol><li><strong>On Demand</strong>: pay a fixed rate by the hour, no commitment<li><strong>Reserved</strong>: provide a capacity reservation, minimum 1 year<ol><li><u>Standard Reserved Instance</u><li><u>Convertible Reserved Instance</u><li><u>Scheduled Reserved Instance</u></ol><li><strong>Spot</strong>: based on “bid”, like stock, on-demand<li><strong>Dedicated Instances</strong><li><strong>Dedicated Hosts</strong>: physical EC2 Instance</ol><div class="alert alert-success" role="alert"><p>Question: How will this section be tested?</p><p>Answer: Scenario-based questions, will ask you what type of EC2 or services you will suggest.</p></div><h4 id="ec2-instance-types---main-ones">EC2 Instance Types - Main Ones</h4><div class="table-wrapper"><table><thead><tr><th>Type<th>Description<tbody><tr><td>R<td>High RAM usage<tr><td>C<td>High CPU usage<tr><td>M<td>(Medium) balanced usage application<tr><td>I<td>High I/O<tr><td>G<td>High GPU usage<tr><td>T2/T3 - burstable<td>burstable instance with a limit threshold<tr><td>T2/T3 - unlimited<td>unlimited burstable amount</table></div><p>For Instance type “Spot”, if this is terminated by Amazon EC2, you will note be charged for a partial hour of usage. However, if you terminate the instance yourself, you will be charged for <em>an hour</em> in which the instance ran.</p><div class="alert alert-success" role="alert"><ol><li>Termination Protection is turned off by default, which means by default, you cannot terminate an EC2 Instance.<li>On an EBS-backed Instance the default action is for the root EBS Volume to be deleted when the instance is terminated<li>Default AMI cannot be encrypted, additional volume can be encrypted</ol></div><h3 id="security-groups">Security Groups</h3><p>“Network &amp; Security” -&gt; “Security Groups”</p><blockquote><p>if you disable the HTTP 80 port, it will take effect <em>immediately</em>, the browser will time out</p></blockquote><p>When you create a new inbound rule, you will also create a new outbound rule</p><ol><li>Security Groups are <strong>stateful</strong><li>Network Access Control List is <strong>stateless</strong></ol><p>we will cover this in the future chapter</p><ul><li>All <em>inbounds traffic is blocked</em> by default, all <em>outbound traffic is allowed</em><li>Changes to Security Groups take effect immediately<li>You can have any number of EC2 instances with a Security Group<li>Security Groups are stateful<li>You cannot block network access in the security groups, instead we should use “Network Access Control Lists” (VPC Section)<li>Allow Rule (OK), Deny Rules (X)</ul><p><strong>Added 2020-10-26:</strong></p><p>Security Group controls the inbound and outbound traffic of EC2</p><p>Security Group acts as the role like:</p><ul><li>“firewall” (connection-wise) on EC2 Instance<li>Access to Ports<li>IP Ranges<li>Inbound/Outbound Network</ul><p><strong>Security Group lives outside of EC2</strong></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>EC2 &lt;-&gt; Security Group &lt;-&gt; WWW
</pre></table></code></div></div><h4 id="referencing-other-security-groups">Referencing other Security Groups</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/sg-referencing.png" alt="" /></p><blockquote><p>Since SG3 is not in the Inbound Rules of EC2 ①, so the EC2 with SG3 is not allowed to connect to EC2 ①</p></blockquote><p><strong>Every time there is a timeout problem, always check Security Groups first.</strong></p><h3 id="migrations-of-ec2-volume">Migrations of EC2 Volume</h3><p>I think it will be worth to talk about ways to migrate EC2 Volume from Region / AZ to another different Region / AZ. Here are the details to accomplish them.</p><p><strong>Region to Region</strong></p><ul><li>Take a snapshot of the EC2 Volume<li>Create an AMI from the snapshot<li><u>Copy the AMI from one Region to another</u><li>Use the <strong>copied AMI</strong> to launch the new EC2 Instance in the new Region</ul><p><strong>AZ to AZ</strong></p><ul><li>Take a snapshot of the EC2 Volume<li>Create an AMI from the snapshot<li>Use the AMI to launch the new EC2 Instance</ul><h3 id="ami-types">AMI Types</h3><p>EBS vs Instance Store</p><ol><li>Region<li>OS<li>Architecture<li>Launch Permissions<li>Storage for the root device (Root Device Volume)<ol><li>Instance Store (EPHEMERAL STORAGE) “RAM-like”<li>EBS Backed Volumes</ol></ol><p>An <strong>Instance Store</strong> provides temporary block-level storage for your instance. Instance Store Volumes are sometimes called <strong>Ephemeral Storage</strong>. This storage is located on disks that are physically attached to the host computer. Instance store is ideal for <strong>temporary</strong> storage of information that changes frequently, such as buffers, caches, scratch data, and other temporary content, or for data that is replicated across a fleet of instances, such as a load-balanced pool of web servers.</p><blockquote><p>Instance store volumes cannot be stopped. If the underlying host fails, you will lose all your data.</p></blockquote><p>An <strong>“EBS-backed” Instance</strong> is an EC2 instance that uses an EBS volume as it’s root device. EBS volumes are redundant, “virtual” drives, which are not tied to any particular hardware, however, they are restricted to a particular EC2 availability zone. This means that an EBS volume can move from one piece of hardware to another within the same availability zone. You can think of EBS volumes as a kind of Network Attached Storage.</p><p>If the virtual machine’s hardware fails, the EBS volume can simply be moved to another virtual machine and re-launched. In theory, you won’t lose any data.</p><p>Another benefit is that EBS volumes can easily be backed up and duplicated. So you can take easy backup snapshots of your volumes, create new volumes and launch new EC2 instances based on those duplicate volumes.</p><blockquote><ul><li>EBS backed instances can be stopped. You won’t lose the data on this instance if it is stopped.<li>By default, both root volumes will be deleted on termination. However, with EBS volumes, you can tell AWS to keep the device volume.</ul></blockquote><h3 id="encrypted-root-device-volumes--snapshots">Encrypted Root Device Volumes &amp; Snapshots</h3><p>There are two different ways to encrypt root device volumes</p><ol><li>Create an EC2 Instance with Root Device Volume encrypted at the start<li>Encrypt the Root Device later<ol><li>“Action” -&gt; “Create Snapshots”<li>“Copy the snapshot”, check “Encrypt this snapshot”<li>Create an image from this snapshot, launch EC2 Instance</ol></ol><p>All AMIs are categorized as either backed by Amazon EBS or backed by instance store</p><p><strong>For EBS Volumes :</strong> The root device for an instance launched from the AMI is an <em>Amazon EBS volume</em> created from an <em>Amazon EBS snapshot</em>. Think of EBS as a virtual hard disk</p><p><strong>For Instance Store Volumes :</strong> The root device for an instance launched from the AMI is an <em>instance store</em> volume created from a template stored in <em>Amazon S3</em>. Think of snapshots as a photograph of the disk</p><ol><li>Snapshots of encrypted volumes are encrypted automatically<li>Volumes restored from encrypted snapshots are encrypted automatically<li>You can share snapshots, but only if they are unencrypted<li>These snapshots can be shared with other AWS accounts or made public<li>You can now encrypt root device volumes upon creation of EC2 Instance</ol><h3 id="identity-access-management-roles">Identity Access Management Roles</h3><p>Instance Settings -&gt; Attach / Replace IAM Role</p><ol><li>Roles are much more secure than storing access keys<li>Roles are easier to manage<li>Roles can be assigned to EC2 after creation for console/command line access<li>Roles are universal, easy to manage</ol><h3 id="elastic-file-system-efs">Elastic File System (EFS)</h3><p><strong>Elastic File System</strong> is a file storage service for EC2 instances. EFS is easy to use and provides a simple interface that allows you to create and configure file systems quickly and easily. With EFS,</p><ul><li>storage capacity is elastic<li>growing and shrinking automatically as you add and remove files</ul><p>so your applications have the storage they need when they need it.</p><p>Once EC2 is created, we need to mount the EFS disks:</p><ul><li>TLS mount for encrypted option<ul><li><code class="language-plaintext highlighter-rouge">mount -t efs -o tls fs-xxxx:/ /target</code></ul><li>It also supports network file system version 4 (NFSv4).<li>We only pay for the storage you use (no pre-provisioning required).<li>Can scale up to petabytes.<li>Can support thousands of concurrent NFS connections.<li>Data is stored across multiple AZ’s within a Region.<li><em>Read After Write</em> Consistency. (No eventual consistency)</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>EC2 and EBS: 1 vs 1
EC2 and EFS: many vs 1
</pre></table></code></div></div><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6161588707523400" data-ad-slot="2418749784"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></p><h3 id="ec2-placement-groups">EC2 Placement Groups</h3><p>There are three different types of EC2 Placement Groups in AWS:</p><ul><li>Clustered Placement Group<li>Spread Placement Group<li>Partitioned Placement Group</ul><p>The name of placement groups must be <em>unique</em> within your AWS account. Only certain types of instances can be launched in a placement group (compute-optimized, GPU, memory-optimized, and storage optimized). <em>We can’t move existing instances into a placement group (they must be selected when are being created).</em></p><h4 id="cluster-placement-group">Cluster Placement Group</h4><p>This group is a logical grouping of instances within a <strong>single Availability Zone</strong>. A cluster placement group can span peered VPCs in the <strong>same Region</strong>. Instances in the same cluster placement group enjoy a higher per-flow throughput limit of up to 10 Gbps for TCP/IP traffic and are placed in the same high-bisection bandwidth segment of the network.</p><p>The following image shows instances that are placed in a cluster placement group.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/images/placement-group-cluster.png" alt="" /></p><ul><li>low network latency<li>high network throughput<li>or both</ul><p>Only certain instances can be launched in this mode.</p><h4 id="spread-placement-group">Spread Placement Group</h4><p>Launching instances in a spread placement group reduces the risk of simultaneous failures that might occur when instances share the same racks. Spread placement groups provide access to <strong>distinct racks</strong>, and are therefore suitable for mixing instance types or launching instances over time.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/images/placement-group-spread.png" alt="" /></p><h4 id="partition-placement-group">Partition Placement Group</h4><p>This group divides each group into logical segments called <strong>partitions</strong>. Amazon EC2 ensures that each partition within a placement group has its own set of racks. Each rack has its network and power source. No two partitions within a placement group share the same racks, allowing you to isolate the impact of a hardware failure within your application. Partition placement groups help <strong>reduce the likelihood of correlated hardware failures</strong> for your application.</p><p>No two partitions within a placement group share the same racks allowing you to isolate the impact of a hardware failure within your application</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/images/placement-group-partition.png" alt="" /></p><div class="alert alert-success" role="alert"><ol><li>A clustered placement group cannot span multiple AZs, while a spread placement and a partitioned group can<li>The name you specify for a placement group must be unique within your AWS account<li>Only certain types of instances can be launched in a placement group, these types contain Compute Optimized, GPU, Memory Optimized, Storage Optimized, etc...<li>AWS recommend homogeneous instances within clustered placement groups<li>You cannot merge placement groups<li>You cannot move an existing instance into a placement group. You can create an AMI from your existing instance, and then launch a new instance from the AMI into a placement group</ol></div><h3 id="elastic-network-interfaces-eni">Elastic Network Interfaces (ENI)</h3><p>The logical component in a VPC that represents a <strong>virtual network card</strong></p><p>The ENI can have the following attributes</p><ul><li>Primary private IPv4, one or more secondary IPv4<li>One Elastic IP (IPv4) per private IPv4<li>One Public IP<li>One or more Security Groups<li>A MAC Address</ul><p>You can create ENI independently and attach them on the fly (move them) on EC2 instances for failover</p><h3 id="hibernate-ec2">Hibernate EC2</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/images/hibernation-flow.png" alt="" /></p><div class="table-wrapper"><table><thead><tr><th>Hibernate EC2<th>Regular EC2<tbody><tr><td>In-memory RAM is preserved<td>stop: data on disk (EBS) kept intact<tr><td>Instance boot much faster<td>terminate: EBS data, lost<tr><td>root EBS volume must be encrypted<td> </table></div><blockquote><p>Under the hood:</p><p>RAM state is written to a file in the root EBS Volume</p></blockquote><p>Hibernate EC2 is suitable for:</p><ul><li>long-running processing<li>services taken a long time to initiate<li>save RAM state</ul><h3 id="cross-account-ami-copy-faq--exam-tip">Cross Account AMI Copy (FAQ + Exam Tip)</h3><ul><li>You can share an AMI with another AWS account<li>Sharing an AMI does not affect the ownership of the AMI<li>If you copy an AMI that has been shared with your account, you are the owner of the target AMI in your account<li>To copy an AMI that was shared with you from another account, the owner of the source AMI must grant you read permissions for the storage that backs the AMI, either the associated EBS snapshot (for an Amazon EBS-backed AMI) or an associated S3 bucket (for an instance, store-backed AMI)</ul><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6161588707523400" data-ad-slot="2418749784"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></p><h2 id="summary">Summary</h2><ul><li>EBS Root Volumes of your DEFAULT AMI’s cannot be encrypted. But you can use a third-party tool to encrypt the root volume or this can be done when creating AMI’s in the AWS console or using the API<li>All Inbound traffic is blocked by default, all outbound traffic is allowed<li>Changes to Security Groups take effect immediately<li>You can have any number of EC2 instances within a security group<li>You can have multiple security groups attached to EC2 Instances<li>Security Groups are STATEFUL<li>If you create an inbound rule allowing traffic in, that traffic is automatically allowed back out again (this is the part <code class="language-plaintext highlighter-rouge">STATEFUL</code> means)<li>You cannot block specific IP addresses using Security Groups, instead use Network Access Control Lists<li>You can specify allow rule but not deny rules<li>Snapshots are the point in time copies of Volumes<li>Snapshots are incremental - this means that only the blocks that have changed since your last snapshot are moved to S3<li>To create a snapshot for Amazon EBS volumes that serve as root devices, you should stop the instance before taking the snapshot, you can take a snapshot while the instance is running<li>You can create AMI’s from both Volumes and Snapshots<li>You can change EBS Volume sizes on the fly, including changing the size and storage type<li>Volumes will ALWAYS be in the same AZ as the EC2 Instance<li>Snapshots of encrypted volumes and volumes restored from encrypted snapshots are encrypted automatically<li>You can share un-encrypted snapshots, these snapshots can be shared with other AWS accounts or made public<li>Instance Store Volumes are sometimes called Ephemeral Storage, physically installed<li>Instance Store Volumes cannot be stopped. If the underlying host fails, you will LOSE your data.<li>EBS backed instances can be stopped. You will NOT LOSE the data on this instance if it is stopped<li>You can reboot both, you will not lose data<li>By default, both ROOT volumes will be deleted on termination. However, with EBS volumes, you can tell AWS to keep the root device volume</ul><p>To encrypt an unencrypted root device volume:</p><ul><li>create a snapshot of the un-encrypted root device volume<li>create a copy of the snapshot and select the encrypt option<li>create an AMI from the encrypted snapshot<li>use that AMI to launch new encrypted instances</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/aws-certs-cheatsheet/categories/aws-saa/'>AWS-SAA</a>, <a href='/aws-certs-cheatsheet/categories/ec2/'>EC2</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/aws-certs-cheatsheet/tags/ec2/" class="post-tag no-text-decoration" >EC2</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Elastic Compute Cloud (EC2) - AWS Cert. Cheatsheet&url=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Elastic Compute Cloud (EC2) - AWS Cert. Cheatsheet&u=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Elastic Compute Cloud (EC2) - AWS Cert. Cheatsheet&url=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/aws-certs-cheatsheet/posts/vpc/">Virtual Private Cloud (VPC) ★★★</a><li><a href="/aws-certs-cheatsheet/posts/ha-elb-asg/">High Availability and Scalability - ELB & ASG</a><li><a href="/aws-certs-cheatsheet/posts/aws-applications/">AWS Applications</a><li><a href="/aws-certs-cheatsheet/posts/serverless/">Serverless</a><li><a href="/aws-certs-cheatsheet/posts/s3/">Simple Storage Service (S3)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/aws-certs-cheatsheet/tags/asg/">ASG</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/audit/">Audit</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/aws-applications/">AWS Applications</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/cli/">CLI</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/database/">Database</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/discussions/">Discussions</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/dr/">DR</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/ec2/">EC2</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/elb/">ELB</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/encryption/">Encryption</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/aws-certs-cheatsheet/posts/vpc/"><div class="card-body"> <span class="timeago small" > Sep 2, 2020 <i class="unloaded">2020-09-02T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Virtual Private Cloud (VPC) ★★★</h3><div class="text-muted small"><p> Virtual Private Cloud (VPC) ★★★ Amazon Virtual Private Cloud Documentation VPC lets us provision a logically isolated section of our infrastructure where we can launch AWS resources in a vi...</p></div></div></a></div><div class="card"> <a href="/aws-certs-cheatsheet/posts/ha-elb-asg/"><div class="card-body"> <span class="timeago small" > Sep 24, 2020 <i class="unloaded">2020-09-24T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>High Availability and Scalability - ELB & ASG</h3><div class="text-muted small"><p> Scalability When it comes to scalability, it divides into two parts: Horizontal Scalability -&gt; elasticity, we also call this scale up and scale down Vertical Scalability -&gt; we also cal...</p></div></div></a></div><div class="card"> <a href="/aws-certs-cheatsheet/posts/aws-applications/"><div class="card-body"> <span class="timeago small" > Oct 4, 2020 <i class="unloaded">2020-10-04T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS Applications</h3><div class="text-muted small"><p> 2 types/patterns of application communication synchronous communications asynchronous / event-based (job queue) Synchronous between applications could be problematic if there are sudden spi...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/aws-certs-cheatsheet/posts/s3/" class="btn btn-outline-primary"><p>Simple Storage Service (S3)</p></a> <a href="/aws-certs-cheatsheet/posts/storage/" class="btn btn-outline-primary"><p>EBS, EFS and Storage Gateway</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/aws-certs-cheatsheet/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//zhenye.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://zhenye-na.github.io//aws-certs-cheatsheet/posts/ec2/'; this.page.identifier = '/posts/ec2/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/Zhenye-Na/aws-certs-cheatsheet">Zhenye Na</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/aws-certs-cheatsheet/tags/asg/">ASG</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/audit/">Audit</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/aws-applications/">AWS Applications</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/cli/">CLI</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/database/">Database</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/discussions/">Discussions</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/dr/">DR</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/ec2/">EC2</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/elb/">ELB</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/encryption/">Encryption</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/aws-certs-cheatsheet/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zhenye-na.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
