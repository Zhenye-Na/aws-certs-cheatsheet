<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.1"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="AWS Applications" /><meta name="author" content="Zhenye Na" /><meta property="og:locale" content="en_US" /><meta name="description" content="2 types/patterns of application communication" /><meta property="og:description" content="2 types/patterns of application communication" /><link rel="canonical" href="https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/" /><meta property="og:url" content="https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/" /><meta property="og:site_name" content="AWS Cert. Cheatsheet" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-04T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="AWS Applications" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Zhenye Na"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/"},"description":"2 types/patterns of application communication","url":"https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/","@type":"BlogPosting","headline":"AWS Applications","dateModified":"2021-01-10T22:14:09-08:00","datePublished":"2020-10-04T00:00:00-07:00","@context":"https://schema.org"}</script><title>AWS Applications | AWS Cert. Cheatsheet</title><link rel="shortcut icon" href="/aws-certs-cheatsheet/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/aws-certs-cheatsheet/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/aws-certs-cheatsheet/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/aws-certs-cheatsheet/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/aws-certs-cheatsheet/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/aws-certs-cheatsheet/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/aws-certs-cheatsheet/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/aws-certs-cheatsheet/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/aws-certs-cheatsheet/assets/css/post.css" as="style"><link rel="stylesheet" href="/aws-certs-cheatsheet/assets/css/post.css"><link rel="preload" as="style" href="/aws-certs-cheatsheet/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/aws-certs-cheatsheet/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/aws-certs-cheatsheet/assets/js/post.min.js"></script> <script defer src="/aws-certs-cheatsheet/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script> <script data-ad-client="ca-pub-6161588707523400" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/aws-certs-cheatsheet/" alt="avatar" class="mx-auto"> <img src="/aws-certs-cheatsheet/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/aws-certs-cheatsheet/">AWS Cert. Cheatsheet</a></div><div class="site-subtitle font-italic">Cheatsheets for AWS Certified Exams.</div></div><ul class="w-100"><li class="nav-item"> <a href="/aws-certs-cheatsheet/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/aws-certs-cheatsheet/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zhenye-na" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['nazhenye','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/aws-certs-cheatsheet/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/aws-certs-cheatsheet/"> Posts </a> </span> <span>AWS Applications</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>AWS Applications</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Oct 4, 2020, 12:00 AM -0700" > Oct 4, 2020 <i class="unloaded">2020-10-04T00:00:00-07:00</i> </span> by <span class="author"> Zhenye Na </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 10, 2021, 10:14 PM -0800" > Jan 10, 2021 <i class="unloaded">2021-01-10T22:14:09-08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2087 words">11 min</span></div></div><div class="post-content"><p>2 types/patterns of application communication</p><ul><li>synchronous communications<li>asynchronous / event-based (job queue)</ul><p>Synchronous between applications could be problematic if there are sudden spikes of traffic (suppose, Black Friday), in this case, we can <strong>decouple</strong> your application by using:</p><ul><li>SQS: queue model<li>SNS: pub/sub model<li>Kinesis: real-time streaming model</ul><h2 id="sqs-distributed-queue-system">SQS: Distributed Queue System</h2><p>The Queue acts as a buffer between the component <em>producing</em> and <em>saving</em> data, and the component receiving the data for processing.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://d2908q01vomqb2.cloudfront.net/0716d9708d321ffb6a00818614779e779925365c/2017/03/28/Diagram2.png" alt="" /></p><blockquote><p>It’s a web service that gives you access to a message queue that can be used to store messages while waiting for a computer to process them. Amazon SQS is a distributed queue system that enables web service applications to quickly and reliably queue messages that one component in the application generates to be consumed by another component. A queue is a temporary repository for messages that are awaiting processing.</p><p>Using Amazon SQS, you can decouple the components of an application so they run independently, easing message management between components. Any component of a distributed application can store messages in a fail-safe queue. Messages can obtain up to 256 KB of text in any format. Any component can later retrieve the messages programmatically using the Amazon SQS API.</p><p>The queue acts as a buffer between the component producing and saving data, and the component receiving the data for processing. This means the queue resolves issues that arise if the producer is producing work faster than the consumer can process it, or if the producer or consumer is only intermittently connected to the network.</p></blockquote><p>Types of queues in SQS:</p><ol><li><strong>Standard Queues</strong> (default): nearly-unlimited number of transactions per second. guarantee that a message is delivered <em>at least once</em> (or more - can have duplicate messages).<ol><li><strong>Delay Queues</strong>: it can delay a message up to 15 mins, the default is 0, this can be overwritten using the <code class="language-plaintext highlighter-rouge">DelaySeconds</code> parameter</ol><li><strong>FIFO Queues</strong>: delivery and exactly-once processing. The order in which messages are sent and received is strictly preserved. It supports message groups.</ol><p><strong>Note</strong></p><ol><li>SQS is <code class="language-plaintext highlighter-rouge">pull-based</code><li>Messages are 256 KB in size<li>Messages can be kept in the queue from 1 minute to 14 days, the default retention period is 4 days</ol><p>Messages can be kept in the queue from 1 min to 14 days, the default retention period is 4 days. If a consumer does not handle the message in a <code class="language-plaintext highlighter-rouge">Visiblity Time Out</code> window (the max value is 12 hours), <strong>the message will become available again to be available for another consumer</strong>.</p><p>SQS supports long polling as a way to retrieve messages when they are available rather than being short polling every time.</p><h3 id="producing-and-consuming-messages">Producing and Consuming Messages</h3><div class="table-wrapper"><table><thead><tr><th>Producing<th>Consuming<tbody><tr><td>Define message body (up to 256 KB)<td><strong>Pull</strong> SQS for the message (up to 10 messages at a time)<tr><td>Add message attributes (metadata - optional)<td>Process the message within the <code class="language-plaintext highlighter-rouge">visibility timeout</code><tr><td>Provide Delay delivery (optional)<td>Delete the message using the message ID \&amp; receipt handle<tr><td>Return: 1) message id 2) MD5 of the body<td> </table></div><h3 id="sqs---visibility-timeout">SQS - Visibility Timeout</h3><p>When a consumer polls a message from a queue, the message is “invisible” to other consumers for a defined period -&gt; <code class="language-plaintext highlighter-rouge">Visibility Timeout</code></p><ul><li>it can be from 0 seconds to 12 hours, the default value is 30 seconds<li>if <code class="language-plaintext highlighter-rouge">Visibility Timeout</code> is too high (say 15 minutes), then if a consumer fails to process the message, you must wait 15 minutes before you can process it again<li>if <code class="language-plaintext highlighter-rouge">Visibility Timeout</code> is too low (say 5 seconds), if the consumer need 2 minutes at least to process the message, then this message may be processed more than once</ul><div class="alert alert-secondary" role="alert"><ul><li><code>ChangeMessageVisibility</code>: this API is to change the visibility timeout value while processing a message<li><code>DeleteMessage</code>: this API is to tell SQS the message was successfully processed</ul></div><h3 id="sqs---dead-letter-queue">SQS - Dead Letter Queue</h3><p>If a consumer fails to process a message within the <code class="language-plaintext highlighter-rouge">Visibility Timeout</code>, the message will go back to the queue. However, we can set a <em>threshold</em> of <u>how many times a message can go back to the queue</u>, this is called <strong>redrive policy</strong></p><p>After the threshold is exceeded, the message goes into a dead letter queue (DLQ)</p><blockquote><p>we have to create a DLQ first and then designate it a dead-letter queue, and we need to make sure to process the messages in the DLQ before they expire</p></blockquote><h3 id="sqs---long-polling">SQS - Long Polling</h3><p>When a consumer requests message from the queue (SQS is pull-based), it can optionally “wait” for messages to arrive if there are none in the queue, this is called <strong>Long Polling</strong></p><blockquote><p>Long Polling decreases the number of API calls made to SQS while increasing the efficiency and latency of the application</p></blockquote><p>The wait time can be between 1 sec to 20 secs, long polling is preferable to short polling</p><div class="alert alert-secondary" role="alert"> Long Polling can be enabled at the queue level or the API level using <code>WaitTimeSeconds</code></div><h3 id="sqs-messages-diagram">SQS Messages Diagram</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/sqs.svg" alt="" /></p><h3 id="sqs---fifo-queue">SQS - FIFO Queue</h3><ul><li>Name of the queue must end in <code class="language-plaintext highlighter-rouge">.fifo</code><li>Lower throughput (3000 per second with batching, 300 /s without)<li>Messages are processed <strong>in order</strong> by the consumer<li>Messages are sent exactly <strong>once</strong><li>No per message delay (only per queue delay)<li>Ability to do <strong>content-based</strong> de-duplication<ul><li>if two messages’ body text are both <code class="language-plaintext highlighter-rouge">hello-sqs</code>, then you can only view one message in the SQS Console</ul><li>5-minute interval de-duplication using “Duplication ID”<li>Message Groups:<ul><li>Possibility to group messages for FIFO ordering using “Message GroupID”<li>Only one worker can be assigned per message group so that messages are processed in order<li>Message group is just an extra tag on the message</ul></ul><h3 id="sqs---auto-scaling-group">SQS - Auto Scaling Group</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/sqs-asg1.svg" alt="" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/sqs-asg2.png" alt="" /></p><h2 id="sns-simple-notification-service">SNS: Simple Notification Service</h2><p>SNS is a web service that makes it easy to set up, operate, and send notifications from the cloud. It provides developers with a highly scalable, flexible, and cost-effective capability to publish messages from an application and immediately deliver them to subscribers or other applications.</p><ul><li><strong>Push</strong> notifications: for devices like Android, Apple, Windows, Fire OS, …<li>It also supports notifications by SMS or email or <strong>SQS queue</strong> or any HTTP endpoint.<li>It prevents losing messages by storing all the messages across multiple availability zones.<li>Inexpensive, pay-as-you-go model with no up-front costs.</ul><p>SNS allows you to group multiple recipients using <strong>topics</strong>. A topic is an “access point” for allowing recipients to dynamically subscribe for identical copies of the same notification. One topic can support deliveries to multiple endpoint types: grouping the iOS messages, the Android, the SMS… When you publish once to a topic, SNS delivers appropriately formatted copies of your message to each subscriber.</p><div class="alert alert-secondary" role="alert"><p>SQS and SNS are both messaging services in AWS</p><ul><li>Instantaneous, push-based message delivery<li>Simple APIs and easy integration<li>Flexible message delivery over multiple transport protocol<li>Inexpensive</ul></div><div class="alert alert-primary" role="alert"><p>SQS and SNS are both messaging services in AWS</p><ul><li>SQS is pull-based<li>SNS is push-based</ul></div><h3 id="sns---how-to-publish">SNS - How to publish</h3><p><strong>Topic Publish</strong> (within your AWS Server - using the SDK)</p><ul><li>Create a topic<li>Create a subscription (or many)<li>Publish to the topic</ul><p><strong>Direct Publish</strong> (for mobile apps SDK)</p><ul><li>Create a platform application<li>Create a platform endpoint<li>Publish to the platform endpoint<li>Works with Google GCM, Apple APNS, Amazon ADM …</ul><h3 id="sns--sqs-fan-out">SNS + SQS: Fan Out</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/sns-sqs-fanout.png" alt="" /></p><ul><li>Push once in SNS, receive in many SQS<li>Fully decoupled<li>No data loss<li>Ability to add receivers of data later<li>SQS allows for delayed processing<li>SQS allows for retries of work<li>May have many workers on one queue and one worker on the other queue</ul><h2 id="aws-kinesis">AWS Kinesis</h2><blockquote><p>Kinesis is a managed alternative to Apache Kafka</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Zhenye-Na/img-hosting-picgo/master/img/kinesis.png" alt="" /></p><p>Amazon Kinesis is a platform on AWS to send your streaming data to. Kinesis makes it easy to load and analyze streaming data, and also providing the ability for you to build custom applications for your business needs. Data is automatically replicated to 3 AZs</p><p>There are three types of services:</p><ul><li>Kinesis Streams: low latency streaming ingest at scale<li>Kinesis Analytics: perform real-time analytics on streams using SQL<li>Kinesis Firehose: load streams into S3, Redshift, ElastiSearch</ul><h3 id="kinesis-streams-overview">Kinesis Streams Overview</h3><blockquote><p>Producers (devices) sent the data into Kinesis streams where the data will be from <u>24 hours to 7 days</u> (Data Retention Period). The data will store the data in <strong>shards</strong>. A shard can process 5 transactions per second for reads, up to a max total data read rate of 2MB per second and up to 1000 records per second for writes, up to a max total data write rate of 1MB per second (including partition keys). Then consumers (EC2) will analyze this data and produce the analysis in DynamoDB or S3 or EMR or Redshift. The capacity of your stream is the sum of the capacities of its shards.</p></blockquote><ul><li>Ability to reprocess/replay data<li>Multiple applications can consume the same stream<li>Real-time processing with the scale of throughput<li>Once data is inserted in Kinesis, it can’t be deleted (immutability)</ul><h4 id="kinesis-streams-shards">Kinesis Streams Shards</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.stack.imgur.com/LzF4k.png" alt="" /></p><ul><li>One stream is made of many different shards<li>1 MB/s or 1000 messages/s at write PER SHARD<li>2 MB/s at reading PER SHARD<li>Billing is per shard provisioned, can have as many shards as you want<li>Batching available or per-message calls<li>The number of shards can evolve (re-shard / merge)<li><strong>Records are ordered per shard</strong></ul><h4 id="kinesis-api---put-records">Kinesis API - Put records</h4><ul><li><code class="language-plaintext highlighter-rouge">PutRecord</code> API + Partition key that gets hashed<li>The same key goes to the same partition (helps with ordering for a specific key)<li>Messages sent to get a “sequence number”<li>Choose a partition key that is highly distributed (helps prevent “hot partition”)<li>Use Batching with <code class="language-plaintext highlighter-rouge">PutRecords</code> to reduce costs and increase throughput<li><code class="language-plaintext highlighter-rouge">ProvisionedThroughputExceeded</code> if we go over the limits<li>Can use CLI, SDK, or producer libraries from various frameworks</ul><h4 id="kinesis-api---exceptions">Kinesis API - Exceptions</h4><p><code class="language-plaintext highlighter-rouge">ProvisionedThroughputExceeded</code> Exception</p><p>this happens when sending more data (exceeding MB/s or TPS for any shard), make sure you don’t have a hot shard (such as your partition key is bad and too many data goes to that partition)</p><p>Solution</p><ul><li>retries with backoff<li>increase shards (scaling)<li>ensure your partition key is a good one</ul><h4 id="kinesis-api---consumers">Kinesis API - Consumers</h4><ul><li>can use a normal consumer (CLI, SDK, etc..)<li>can use Kinesis Client Library (KCL)<ul><li>KCL uses DynamoDB to checkpoint offsets<li>KCL uses DynamoDB to track other workers and share the work amongst shards</ul></ul><h3 id="kinesis-data-firehose">Kinesis Data Firehose</h3><blockquote><p>Producers (devices) sent the data into Kinesis Firehose which will analyze the data directly using lambda to be stored in S3 or any other storage. Here, there is no data persistence.</p></blockquote><ul><li>Fully managed service, no administration, automatic scaling, serverless<li>Load data into Redshift / Amazon S3 / ElasticSearch / Splunk<li>Near Real-Time<ul><li>60 seconds latency minimum for non-full batches<li>or minimum of 32 MB of data at a time</ul><li>Supports many data formats. conversions, transformations, compression<li>Pay for the amount of data going through Firehose</ul><p><strong>Kinesis Data Streams vs Firehose</strong></p><div class="table-wrapper"><table><thead><tr><th>Kinesis Data Streams<th>Kinesis Firehose<tbody><tr><td>Going to write custom code (producer \&amp; consumer)<td>Fully managed, send to S3, Splunk, Redshift, ElasticSearch<tr><td>Real-time (~ 200ms)<td>Serverless data transformations with Lambda<tr><td>Must manage to scale (shard splitting/merging)<td><strong>Near</strong> real-time (lowest buffer time is 1 minute)<tr><td>Data Storage for 1 to 7 days, replay capability, multi consumers<td>Automated Scaling<tr><td> <td>No data storage</table></div><h3 id="kinesis-data-analytics">Kinesis Data Analytics</h3><blockquote><p>This is a combination of Streams with Firehose.</p></blockquote><p>Perform real-time analytics on Kinesis Streaming using SQL</p><p>Kinesis Data Analytics has features like</p><ul><li>Auto Scaling<li>Fully Managed, no servers to provision<li>Continuous: real-time</ul><p>Pay for actual consumption rate and can create streams out of the real-time queries</p><h3 id="kinesis-security">Kinesis Security</h3><ul><li>Control access/authorization using IAM policies<li>Encryption in flight using HTTPS endpoints<li>Encryption at rest using KMS<li>Possibility to encrypt/decrypt data from client-side (harder)<li>VPC Endpoints available for Kinesis to access with VPC</ul><h2 id="sqs-vs-sns-vs-kinesis">SQS vs SNS vs Kinesis</h2><div class="table-wrapper"><table><thead><tr><th>SQS<th>SNS<th>Kinesis<tbody><tr><td>Consumer “pull data”<td>Push data to many subscribers (Pub / Sub)<td>Consumers “pull data”<tr><td>Data is deleted after being consumed<td>Up to 10,000,000 subscribers and 100,000 topics<td>As many consumers as we want<tr><td>Can have as many workers (consumers) as we want<td>Data is not persisted (lost if not delivered)<td>Possibility to replay data<tr><td>No need to provision throughput<td>No need to provision throughput<td>Meant for real-time big data, analytics, and ETL<tr><td>No ordering guarantee (except FIFO queues)<td>Integrates with SQS for fanout architecture pattern<td>Ordering at the shard level<tr><td>Individual message delay capability<td> <td>Data Expires after X days<tr><td> <td> <td>Must provision throughput</table></div><h2 id="amazon-mq">Amazon MQ</h2><blockquote><p>Amazon Managed Apache ActiveMQ</p></blockquote><p>A traditional application running from on-premise may use open protocols such as <code class="language-plaintext highlighter-rouge">MQTT</code>, <code class="language-plaintext highlighter-rouge">AMQP</code>, <code class="language-plaintext highlighter-rouge">STOMP</code>, <code class="language-plaintext highlighter-rouge">Openwire</code>, <code class="language-plaintext highlighter-rouge">WSS</code></p><p>Amazon MQ:</p><ul><li>does not scale as much as SQS / SNS<li>it runs on a dedicated machine, can run in HA with a failover<li>it has both queue feature (~ SQS) and topic features (~ SNS)</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/aws-certs-cheatsheet/categories/aws-saa/'>AWS-SAA</a>, <a href='/aws-certs-cheatsheet/categories/aws-applications/'>AWS Applications</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/aws-certs-cheatsheet/tags/aws-applications/" class="post-tag no-text-decoration" >AWS Applications</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=AWS Applications - AWS Cert. Cheatsheet&url=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=AWS Applications - AWS Cert. Cheatsheet&u=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=AWS Applications - AWS Cert. Cheatsheet&url=https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/aws-certs-cheatsheet/posts/vpc/">Virtual Private Cloud (VPC) ★★★</a><li><a href="/aws-certs-cheatsheet/posts/ha-elb-asg/">High Availability and Scalability - ELB & ASG</a><li><a href="/aws-certs-cheatsheet/posts/aws-applications/">AWS Applications</a><li><a href="/aws-certs-cheatsheet/posts/serverless/">Serverless</a><li><a href="/aws-certs-cheatsheet/posts/s3/">Simple Storage Service (S3)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/aws-certs-cheatsheet/tags/asg/">ASG</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/audit/">Audit</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/aws-applications/">AWS Applications</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/cli/">CLI</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/database/">Database</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/discussions/">Discussions</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/dr/">DR</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/ec2/">EC2</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/elb/">ELB</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/encryption/">Encryption</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/aws-certs-cheatsheet/posts/vpc/"><div class="card-body"> <span class="timeago small" > Sep 2, 2020 <i class="unloaded">2020-09-02T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Virtual Private Cloud (VPC) ★★★</h3><div class="text-muted small"><p> Virtual Private Cloud (VPC) ★★★ Amazon Virtual Private Cloud Documentation VPC lets us provision a logically isolated section of our infrastructure where we can launch AWS resources in a vi...</p></div></div></a></div><div class="card"> <a href="/aws-certs-cheatsheet/posts/ha-elb-asg/"><div class="card-body"> <span class="timeago small" > Sep 24, 2020 <i class="unloaded">2020-09-24T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>High Availability and Scalability - ELB & ASG</h3><div class="text-muted small"><p> Scalability When it comes to scalability, it divides into two parts: Horizontal Scalability -&gt; elasticity, we also call this scale up and scale down Vertical Scalability -&gt; we also cal...</p></div></div></a></div><div class="card"> <a href="/aws-certs-cheatsheet/posts/cli-and-sdk/"><div class="card-body"> <span class="timeago small" > Oct 5, 2020 <i class="unloaded">2020-10-05T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS CLI, SDK IAM Roles & Policies</h3><div class="text-muted small"><p> AWS CLI EC2 Instance Metadata It allows AWS EC2 instances to “learn about themselves” without using an IAM Role for that purpose 1 curl http://169.254.169.254/latest/meta-data/ you can retriev...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/aws-certs-cheatsheet/posts/ha-elb-asg/" class="btn btn-outline-primary"><p>High Availability and Scalability - ELB & ASG</p></a> <a href="/aws-certs-cheatsheet/posts/cli-and-sdk/" class="btn btn-outline-primary"><p>AWS CLI, SDK IAM Roles & Policies</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/aws-certs-cheatsheet/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//zhenye.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://zhenye-na.github.io//aws-certs-cheatsheet/posts/aws-applications/'; this.page.identifier = '/posts/aws-applications/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/Zhenye-Na/aws-certs-cheatsheet">Zhenye Na</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/aws-certs-cheatsheet/tags/asg/">ASG</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/audit/">Audit</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/aws-applications/">AWS Applications</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/cli/">CLI</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/database/">Database</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/discussions/">Discussions</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/dr/">DR</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/ec2/">EC2</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/elb/">ELB</a> <a class="post-tag" href="/aws-certs-cheatsheet/tags/encryption/">Encryption</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/aws-certs-cheatsheet/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zhenye-na.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
